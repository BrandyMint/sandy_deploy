# Деплой для SandyApp

# Запуск

Из консоли:

`./start`

Из X-ов (рекомендуется иметь на рабочем столе): `./Sandy_Synday`

# Скрипты

* `./bin/pull_latest.sh` - скачивает послединй релиз из `${SERVER}${SERVER_BUILDS_PATH}` в `./downloads` и делает на него симлинк вида `./downloads/latest.zip`.
* `./bin/unpack.sh` - распаковывает последний релиз из `./downloads/latest.zip` в `./releases/ДАТА-ВРЕМЯ-ИМЯ_ПАКЕТА`.

# Структура каталога

* `./releases` - сюда складываются релизы. Каждый в своем каталоге, например: `2019-01-01-12:00:12-v0.12.146`
* `./current` - каждый раз создается заново, это symlink на текущий релиза из `./releases`
* `./downloads` - сюда (`bin/pull_latest.sh`) складвает скачанные пакеты.

# Деплой новой версии

Деплой новой версии (скачает последнюю версию с FTP, распакует и развернет в `./current`):

```
> ./bin/pull_latest.sh && ./bin/unpack.sh 
```

# Ручное переключение версии

1) выходишь из этой и из цикла перезапуска (ctrl-c ctrl-c)
2) Запускаешь терминал, идешь в папку ~/SandyApp
3) В ней есть папка realeases, там лежит релизы, заходишь в любой и запускаешь от туда
